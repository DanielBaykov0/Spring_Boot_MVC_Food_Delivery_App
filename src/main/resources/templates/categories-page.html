<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>Order food</title>
    <th:block th:insert="~{/fragments/header}"></th:block>
</head>

<body>

<div>
    <th:block th:insert="~{/fragments/navigation}"></th:block>
</div>

<div>
    <h1 th:text="${#strings.capitalize(category)}" class="category-heading text-center text-white"></h1>
</div>


<table id="dtBasicExample" class="products-table table-striped table-bordered table-sm">
    <thead>
    <tr>
        <th class="th-sm">Name

        </th>
        <th class="th-sm">Price

        </th>
        <th class="th-sm" th:if="${#strings.equals(category.name(),'drink')}">Quantity
        </th>
        <th class="th-sm" th:if="${!#strings.equals(category.name(),'drink')}">Description
        </th>
    </tr>
    </thead>
    <tbody>
    <tr class="row mb-2 mt-2" th:each="product : ${products}" th:if="${!#strings.equals(category,'drink')}">
        <td th:text="*{product.name}" style="font-weight: bold">Tiger Nixon</td>
        <td th:text="|*{product.price} &euro;|">System Architect</td>
        <td th:text="*{product.description}">Edinburgh</td>
        <td sec:authorize="isAuthenticated()" style="margin-bottom: 10px;">
        <td style="margin-bottom:10px">
            <a class="order-button text-center text-decoration-none"
               th:href="@{/cart/add/{id}(id=${product.id})}">Add to cart</a>
        </td>
    </tr>
    </tbody>
</table>

<th:block th:insert="~{fragments/footer}"></th:block>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous">
</script>
</body>
</html>